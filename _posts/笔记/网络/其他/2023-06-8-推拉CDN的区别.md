---
title: 推拉CDN的区别
date: 2023-06-8
categories: [笔记, '网络', '零碎']
tags: [网络, 翻译]
---


# 推拉CDN的区别
 > [原文](https://www.travelblogadvice.com/technical/the-differences-between-push-and-pull-cdns/)

 一种越来越流行的提高旅游博客效率的方法是使用内容交付网络（CDN）。们是一种在多个方面提高加载时间的廉价而有效的方法，但最初设置时可能会令人困惑。 CDN有两种主要类型——“拉式”CDN和“推式”CDN——它们有不同的好处和成本，所以今天我们来看看哪种可能最适合您。

## CDN是什么?

CDN通过将博客的静态组件分布在世界各地的多个服务器上，有助于加快博客的静态分量（尤其是照片）。这有两件事——一是把你的旅游博客的大部分内容放在离想看的人更近的地方。例如，一个在日本的人会从东京下载你的格拉纳达美丽照片，而不是你坐在波士顿的服务器。旅行距离越短意味着下载速度越快，其次，如果内容不是直接从服务器上提取的，它可以节省整体计算能力（当流量非常繁忙时，有足够的计算能力很重要）。

你可以在自己的服务器上设置CDN（实际上为你的照片创建了两个下载点），但大多数人选择像亚马逊的Cloudfront这样的付费服务。（下次我将讨论Cloudflare，它是一种免费的替代方案，尽管设计上不是CDN。）对于付费CDN，您通常会按照每月从您的网站下载的数据量（以GB为单位）收费。（以下是亚马逊的定价表，为您提供一些想法。）大多数视频密集度不高的旅游博客都没有让CDN使用变得非常昂贵的流量或内容（例如播客）。

像Media Temple这样的许多托管提供商现在也将CDN作为其托管包的额外功能，尽管它们往往比第三方的替代品贵得多。

## 什么是拉式CDN与推式CDN?

对这两者的一个非常简单的解释是，使用拉式CDN，CDN会根据请求将您网站的部分内容缓存到其服务器。推送CDN是指您将整个旅行博客上传到CDN，以便随时为用户做好准备。让我们再往下看。

### Pull CDN: 想象一下，一个人正在加载你最新的旅游博客文章。它可能有图片，就像你网站的主题（例如图标、背景图像等）一样。在这个例子中，让你的托管服务器位于波士顿。你刚刚发布了你最新的旅游博客文章，你在日本最大的粉丝想阅读它。有了pull CDN，她第一次这样做，内容就不在CDN上了。在第一次请求期间，CDN会将图像等“拉”到离您的日本粉丝最近的CDN服务器。这可能是东京或香港，无论是哪一个，CDN第一次不得不发布帖子，这意味着您的服务器和读者不会看到任何速度上的提升。然而，CDN第二次（通常是在1-30天后）加载了内容，所有与该东京或香港CDN服务器最接近的人都可以使用该内容。
### Push CDN: 按照上面的例子，您只需提前将旅行博客的全部内容上传到CDN，而不是等待CDN在需要时提取内容。这样，您的图片、主题文件、视频和其他内容始终位于世界各地的CDN服务器上。
Keep in mind that this isn’t the entire story or process of how CDNs work, it’s a look at the system from very high up in the sky. That said, it may seem like a push CDN is superior to a pull, but that’s not always the case.
请记住，这不是CDN工作的全部，只是一个概览。也就是说，推送CDN似乎优于拉送，但事实并非总是如此。

## 拉式CDN与推式CDN的优势

一般来说，拉式CDN比推式CDN更容易配置。一旦最初配置，拉式CDN就会根据请求无缝地存储和更新其服务器上的内容。如果CDN没有检测到文件被修改，数据通常会在那里停留24小时或更长时间。对于低流量网站或那些通过缓存、良好代码等进行了充分优化的网站，拉式CDN提供了速度，而无需对服务器提出太多要求。一旦您的内容被提取（给它48小时的时间来获得足够的数据，使其产生显著的差异），所需的维护就很低。

因此，让拉式CDN如此容易的原因也可能是一种痛苦，尤其是当你对你的旅游博客进行更改时。通常情况下，你无法控制拉取CDN缓存的持续时间，因此，如果你更新照片或主题，你的所有读者（和你）可能需要长达24小时才能看到它。你失去了对易用性的控制，因此当涉及到进行广泛更改（如更新主题）时，你通常不得不在此过程中关闭CDN。

相反，如果推送CDN的流量不足，或者你在一天内有很多内容在变化，那么它可能会给你的服务器带来更大的压力。原因是，将您的所有数据和发生在CDN上的任何更改推送到CDN需要您的服务器承担工作。如果你的服务器已经在高负载下苦苦挣扎（这里有一些优化网站的技巧），或者每天都有几次新内容，那么所有这些内容在你的服务器和CDN之间同步可能弊大于利。

## 哪个更适合你?

选择哪种CDN类型在很大程度上取决于流量和下载量。托管视频和播客（又称大型下载）的旅游博客会发现，从长远来看，推送CDN更便宜、更高效，因为在你主动将内容推送到CDN之前，CDN不会重新下载内容。拉式CDN可以通过在CDN服务器上保留最受欢迎的内容来帮助高流量的小型下载网站。内容的后续更新（或“拉取”）不够频繁，无法使成本超过推送CDN的成本。

无论您最终选择哪种CDN类型，我强烈建议您跟踪前1-3个月的使用情况以及加载时间。你可能会发现，你的特定旅游博客可以通过一点实验来更好地进行推送或拉送。实验应该在周末或其他时间进行，因为无论你走哪种路，DNS更改都会让前48小时变得混乱。
